
<!DOCTYPE html>
<html>
<head>
    <title>Cluster Analysis - Uncertain Cases</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1, h2 {
            color: #333;
        }
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .cluster-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            background-color: #fafafa;
            transition: all 0.3s;
            cursor: pointer;
        }
        .cluster-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.15);
            background-color: #f0f8ff;
        }
        .cluster-title {
            font-weight: bold;
            color: #2c5aa0;
            margin-bottom: 10px;
            font-size: 18px;
        }
        .metric {
            margin: 5px 0;
            display: flex;
            justify-content: space-between;
        }
        .metric-label {
            color: #666;
        }
        .metric-value {
            font-weight: bold;
        }
        .high-value {
            color: #d32f2f;
        }
        .medium-value {
            color: #f57c00;
        }
        .low-value {
            color: #388e3c;
        }
        .key-findings {
            background-color: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin: 20px 0;
        }
        .finding-item {
            margin: 10px 0;
            padding-left: 20px;
            position: relative;
        }
        .finding-item:before {
            content: "‚ñ∂";
            position: absolute;
            left: 0;
            color: #2196f3;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: #f5f5f5;
            font-weight: bold;
        }
        tr:hover {
            background-color: #f5f5f5;
        }
        .details-section {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 8px;
        }
        .show {
            display: block;
        }
        button {
            background-color: #2196f3;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background-color: #1976d2;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîç Cluster Analysis - Focus on Uncertain Cases</h1>
        
        <div class="key-findings">
            <h2>Key Findings</h2>
            <div class="finding-item">Found 420 uncertain or misclassified cases (2.3% of total)</div>
            <div class="finding-item">GMM Cluster 4 has highest uncertainty rate: 14.3%</div>
            <div class="finding-item">DBSCAN Cluster 3 contains most errors: 4.7% error rate</div>
            <div class="finding-item">High confidence errors concentrate in specific clusters</div>
        </div>
        
        <h2>Most Interesting Clusters (by uncertainty/error rate)</h2>
        <div class="summary-grid">

            <div class="cluster-card" onclick="showDetails('gmm_4')">
                <div class="cluster-title">GMM - Cluster 4</div>
                <div class="metric">
                    <span class="metric-label">Samples:</span>
                    <span class="metric-value">119</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Uncertain/Error:</span>
                    <span class="metric-value high-value">14.3%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Error Rate:</span>
                    <span class="metric-value high-value">11.8%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Avg Confidence:</span>
                    <span class="metric-value">0.686</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Extrovert %:</span>
                    <span class="metric-value">58.8%</span>
                </div>
            </div>

            <div class="cluster-card" onclick="showDetails('dbscan_-1')">
                <div class="cluster-title">DBSCAN - Cluster -1</div>
                <div class="metric">
                    <span class="metric-label">Samples:</span>
                    <span class="metric-value">53</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Uncertain/Error:</span>
                    <span class="metric-value high-value">13.2%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Error Rate:</span>
                    <span class="metric-value high-value">3.8%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Avg Confidence:</span>
                    <span class="metric-value">0.709</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Extrovert %:</span>
                    <span class="metric-value">39.6%</span>
                </div>
            </div>

            <div class="cluster-card" onclick="showDetails('hierarchical_1')">
                <div class="cluster-title">HIERARCHICAL - Cluster 1</div>
                <div class="metric">
                    <span class="metric-label">Samples:</span>
                    <span class="metric-value">3,332</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Uncertain/Error:</span>
                    <span class="metric-value medium-value">4.7%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Error Rate:</span>
                    <span class="metric-value high-value">5.9%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Avg Confidence:</span>
                    <span class="metric-value">0.966</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Extrovert %:</span>
                    <span class="metric-value">6.2%</span>
                </div>
            </div>

            <div class="cluster-card" onclick="showDetails('dbscan_3')">
                <div class="cluster-title">DBSCAN - Cluster 3</div>
                <div class="metric">
                    <span class="metric-label">Samples:</span>
                    <span class="metric-value">3,328</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Uncertain/Error:</span>
                    <span class="metric-value medium-value">4.7%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Error Rate:</span>
                    <span class="metric-value high-value">5.9%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Avg Confidence:</span>
                    <span class="metric-value">0.967</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Extrovert %:</span>
                    <span class="metric-value">6.2%</span>
                </div>
            </div>

            <div class="cluster-card" onclick="showDetails('kmeans_1')">
                <div class="cluster-title">KMEANS - Cluster 1</div>
                <div class="metric">
                    <span class="metric-label">Samples:</span>
                    <span class="metric-value">4,771</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Uncertain/Error:</span>
                    <span class="metric-value medium-value">3.9%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Error Rate:</span>
                    <span class="metric-value high-value">5.1%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Avg Confidence:</span>
                    <span class="metric-value">0.966</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Extrovert %:</span>
                    <span class="metric-value">5.5%</span>
                </div>
            </div>

            <div class="cluster-card" onclick="showDetails('gmm_1')">
                <div class="cluster-title">GMM - Cluster 1</div>
                <div class="metric">
                    <span class="metric-label">Samples:</span>
                    <span class="metric-value">4,752</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Uncertain/Error:</span>
                    <span class="metric-value medium-value">3.9%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Error Rate:</span>
                    <span class="metric-value high-value">5.1%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Avg Confidence:</span>
                    <span class="metric-value">0.966</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Extrovert %:</span>
                    <span class="metric-value">5.6%</span>
                </div>
            </div>

            <div class="cluster-card" onclick="showDetails('hierarchical_3')">
                <div class="cluster-title">HIERARCHICAL - Cluster 3</div>
                <div class="metric">
                    <span class="metric-label">Samples:</span>
                    <span class="metric-value">732</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Uncertain/Error:</span>
                    <span class="metric-value medium-value">3.0%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Error Rate:</span>
                    <span class="metric-value high-value">3.8%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Avg Confidence:</span>
                    <span class="metric-value">0.954</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Extrovert %:</span>
                    <span class="metric-value">5.2%</span>
                </div>
            </div>

            <div class="cluster-card" onclick="showDetails('dbscan_1')">
                <div class="cluster-title">DBSCAN - Cluster 1</div>
                <div class="metric">
                    <span class="metric-label">Samples:</span>
                    <span class="metric-value">685</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Uncertain/Error:</span>
                    <span class="metric-value medium-value">2.3%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Error Rate:</span>
                    <span class="metric-value high-value">3.5%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Avg Confidence:</span>
                    <span class="metric-value">0.970</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Extrovert %:</span>
                    <span class="metric-value">3.8%</span>
                </div>
            </div>

            <div class="cluster-card" onclick="showDetails('kmeans_2')">
                <div class="cluster-title">KMEANS - Cluster 2</div>
                <div class="metric">
                    <span class="metric-label">Samples:</span>
                    <span class="metric-value">3,366</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Uncertain/Error:</span>
                    <span class="metric-value low-value">1.8%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Error Rate:</span>
                    <span class="metric-value medium-value">2.5%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Avg Confidence:</span>
                    <span class="metric-value">0.987</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Extrovert %:</span>
                    <span class="metric-value">97.4%</span>
                </div>
            </div>

            <div class="cluster-card" onclick="showDetails('kmeans_4')">
                <div class="cluster-title">KMEANS - Cluster 4</div>
                <div class="metric">
                    <span class="metric-label">Samples:</span>
                    <span class="metric-value">3,559</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Uncertain/Error:</span>
                    <span class="metric-value low-value">1.8%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Error Rate:</span>
                    <span class="metric-value medium-value">2.3%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Avg Confidence:</span>
                    <span class="metric-value">0.986</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Extrovert %:</span>
                    <span class="metric-value">97.5%</span>
                </div>
            </div>

        </div>
        
        <div id="details" class="details-section">
            <h3 id="details-title">Cluster Details</h3>
            <div id="details-content"></div>
        </div>
        
        <h2>Cluster Characteristics Summary</h2>
        <table>
            <thead>
                <tr>
                    <th>Method</th>
                    <th>Cluster</th>
                    <th>Samples</th>
                    <th>Uncertain %</th>
                    <th>Error %</th>
                    <th>Avg Alone Time</th>
                    <th>Avg Social Events</th>
                    <th>Avg Friends</th>
                </tr>
            </thead>
            <tbody>

                <tr>
                    <td>GMM</td>
                    <td>4</td>
                    <td>119</td>
                    <td><span class="high-value">14.3%</span></td>
                    <td><span class="high-value">11.8%</span></td>
                    <td>7.4</td>
                    <td>4.2</td>
                    <td>6.5</td>
                </tr>

                <tr>
                    <td>DBSCAN</td>
                    <td>-1</td>
                    <td>53</td>
                    <td><span class="high-value">13.2%</span></td>
                    <td><span class="high-value">3.8%</span></td>
                    <td>7.6</td>
                    <td>3.6</td>
                    <td>4.7</td>
                </tr>

                <tr>
                    <td>HIERARCHICAL</td>
                    <td>1</td>
                    <td>3,332</td>
                    <td><span class="medium-value">4.7%</span></td>
                    <td><span class="high-value">5.9%</span></td>
                    <td>7.3</td>
                    <td>1.7</td>
                    <td>2.8</td>
                </tr>

                <tr>
                    <td>DBSCAN</td>
                    <td>3</td>
                    <td>3,328</td>
                    <td><span class="medium-value">4.7%</span></td>
                    <td><span class="high-value">5.9%</span></td>
                    <td>7.3</td>
                    <td>1.6</td>
                    <td>2.8</td>
                </tr>

                <tr>
                    <td>KMEANS</td>
                    <td>1</td>
                    <td>4,771</td>
                    <td><span class="medium-value">3.9%</span></td>
                    <td><span class="high-value">5.1%</span></td>
                    <td>7.4</td>
                    <td>1.6</td>
                    <td>2.8</td>
                </tr>

                <tr>
                    <td>GMM</td>
                    <td>1</td>
                    <td>4,752</td>
                    <td><span class="medium-value">3.9%</span></td>
                    <td><span class="high-value">5.1%</span></td>
                    <td>7.3</td>
                    <td>1.6</td>
                    <td>2.8</td>
                </tr>

                <tr>
                    <td>HIERARCHICAL</td>
                    <td>3</td>
                    <td>732</td>
                    <td><span class="medium-value">3.0%</span></td>
                    <td><span class="high-value">3.8%</span></td>
                    <td>7.4</td>
                    <td>1.6</td>
                    <td>2.9</td>
                </tr>

                <tr>
                    <td>DBSCAN</td>
                    <td>1</td>
                    <td>685</td>
                    <td><span class="medium-value">2.3%</span></td>
                    <td><span class="high-value">3.5%</span></td>
                    <td>7.4</td>
                    <td>1.5</td>
                    <td>2.9</td>
                </tr>

            </tbody>
        </table>
        
        <h2>Insights and Recommendations</h2>
        <div style="background-color: #fff3cd; border: 1px solid #ffeaa7; padding: 15px; border-radius: 5px; margin: 20px 0;">
            <h3 style="margin-top: 0;">üí° Key Insights:</h3>
            <ul>
                <li><strong>GMM Cluster 4</strong> (119 samples, 14.3% uncertain) appears to contain ambiguous cases - worth deeper investigation</li>
                <li><strong>DBSCAN Cluster 3</strong> (3328 samples, 4.7% error) shows systematic prediction difficulties</li>
                <li>Most uncertain cases have <strong>moderate social scores</strong> (not extreme introverts/extroverts)</li>
                <li>High confidence errors often have <strong>contradictory features</strong> (e.g., high alone time but many friends)</li>
            </ul>
            
            <h3>üéØ Recommendations:</h3>
            <ol>
                <li>Focus model improvements on GMM Cluster 4 characteristics</li>
                <li>Consider ensemble methods that handle DBSCAN Cluster 3 differently</li>
                <li>Add features to better capture personality ambiguity</li>
                <li>Use different thresholds for samples in high-uncertainty clusters</li>
            </ol>
        </div>
        
        <div style="text-align: center; margin-top: 30px; color: #666;">
            <p>Generated: 2025-07-12 | Kaggle S5E7 Personality Prediction</p>
        </div>
    </div>
    
    <script>
        // Cluster details data
        const clusterDetails = {

            'gmm_4': {
                'method': 'gmm',
                'cluster': 4,
                'samples': 119,
                'pct_extrovert': 58.8,
                'pct_uncertain': 14.3,
                'pct_errors': 11.8,
                'avg_confidence': 0.686,
                'avg_alone': 7.43,
                'avg_social': 4.17,
                'avg_friends': 6.49
            },

            'dbscan_-1': {
                'method': 'dbscan',
                'cluster': -1,
                'samples': 53,
                'pct_extrovert': 39.6,
                'pct_uncertain': 13.2,
                'pct_errors': 3.8,
                'avg_confidence': 0.709,
                'avg_alone': 7.62,
                'avg_social': 3.62,
                'avg_friends': 4.71
            },

            'hierarchical_1': {
                'method': 'hierarchical',
                'cluster': 1,
                'samples': 3332,
                'pct_extrovert': 6.2,
                'pct_uncertain': 4.7,
                'pct_errors': 5.9,
                'avg_confidence': 0.966,
                'avg_alone': 7.33,
                'avg_social': 1.65,
                'avg_friends': 2.79
            },

            'dbscan_3': {
                'method': 'dbscan',
                'cluster': 3,
                'samples': 3328,
                'pct_extrovert': 6.2,
                'pct_uncertain': 4.7,
                'pct_errors': 5.9,
                'avg_confidence': 0.967,
                'avg_alone': 7.34,
                'avg_social': 1.65,
                'avg_friends': 2.78
            },

            'kmeans_1': {
                'method': 'kmeans',
                'cluster': 1,
                'samples': 4771,
                'pct_extrovert': 5.5,
                'pct_uncertain': 3.9,
                'pct_errors': 5.1,
                'avg_confidence': 0.966,
                'avg_alone': 7.36,
                'avg_social': 1.62,
                'avg_friends': 2.80
            },

            'gmm_1': {
                'method': 'gmm',
                'cluster': 1,
                'samples': 4752,
                'pct_extrovert': 5.6,
                'pct_uncertain': 3.9,
                'pct_errors': 5.1,
                'avg_confidence': 0.966,
                'avg_alone': 7.35,
                'avg_social': 1.63,
                'avg_friends': 2.81
            },

            'hierarchical_3': {
                'method': 'hierarchical',
                'cluster': 3,
                'samples': 732,
                'pct_extrovert': 5.2,
                'pct_uncertain': 3.0,
                'pct_errors': 3.8,
                'avg_confidence': 0.954,
                'avg_alone': 7.41,
                'avg_social': 1.55,
                'avg_friends': 2.89
            },

            'dbscan_1': {
                'method': 'dbscan',
                'cluster': 1,
                'samples': 685,
                'pct_extrovert': 3.8,
                'pct_uncertain': 2.3,
                'pct_errors': 3.5,
                'avg_confidence': 0.970,
                'avg_alone': 7.43,
                'avg_social': 1.53,
                'avg_friends': 2.86
            },

            'kmeans_2': {
                'method': 'kmeans',
                'cluster': 2,
                'samples': 3366,
                'pct_extrovert': 97.4,
                'pct_uncertain': 1.8,
                'pct_errors': 2.5,
                'avg_confidence': 0.987,
                'avg_alone': 1.71,
                'avg_social': 7.06,
                'avg_friends': 12.39
            },

            'kmeans_4': {
                'method': 'kmeans',
                'cluster': 4,
                'samples': 3559,
                'pct_extrovert': 97.5,
                'pct_uncertain': 1.8,
                'pct_errors': 2.3,
                'avg_confidence': 0.986,
                'avg_alone': 1.62,
                'avg_social': 5.41,
                'avg_friends': 6.42
            },

        };
        
        function showDetails(clusterId) {
            const details = clusterDetails[clusterId];
            if (!details) return;
            
            const detailsSection = document.getElementById('details');
            const detailsTitle = document.getElementById('details-title');
            const detailsContent = document.getElementById('details-content');
            
            detailsTitle.textContent = `${details.method.toUpperCase()} - Cluster ${details.cluster} Details`;
            
            detailsContent.innerHTML = `
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                    <div>
                        <h4>Population Statistics</h4>
                        <p><strong>Total Samples:</strong> ${details.samples.toLocaleString()}</p>
                        <p><strong>Extrovert Ratio:</strong> ${details.pct_extrovert}%</p>
                        <p><strong>Uncertain/Error Rate:</strong> <span style="color: ${details.pct_uncertain > 5 ? '#d32f2f' : '#f57c00'}">${details.pct_uncertain}%</span></p>
                        <p><strong>Misclassification Rate:</strong> ${details.pct_errors}%</p>
                        <p><strong>Average Confidence:</strong> ${details.avg_confidence}</p>
                    </div>
                    <div>
                        <h4>Average Feature Values</h4>
                        <p><strong>Time Spent Alone:</strong> ${details.avg_alone}</p>
                        <p><strong>Social Event Attendance:</strong> ${details.avg_social}</p>
                        <p><strong>Friends Circle Size:</strong> ${details.avg_friends}</p>
                    </div>
                </div>
                <div style="margin-top: 20px; padding: 15px; background-color: #e8f5e9; border-radius: 5px;">
                    <strong>Interpretation:</strong> 
                    ${getInterpretation(details)}
                </div>
            `;
            
            detailsSection.classList.add('show');
            detailsSection.scrollIntoView({ behavior: 'smooth' });
        }
        
        function getInterpretation(details) {
            let interpretation = '';
            
            if (details.pct_uncertain > 10) {
                interpretation += 'This cluster contains a high concentration of ambiguous cases. ';
            }
            
            if (details.avg_alone > 5 && details.avg_social > 5) {
                interpretation += 'Members show contradictory behavior with both high alone time and social activity. ';
            }
            
            if (details.pct_errors > 3) {
                interpretation += 'The model struggles with this cluster, suggesting these might be edge cases or ambiverts. ';
            }
            
            if (details.avg_confidence < 0.95) {
                interpretation += 'Lower average confidence indicates uncertainty in predictions for this group. ';
            }
            
            return interpretation || 'This cluster shows typical patterns with good model performance.';
        }
    </script>
</body>
</html>
